http://www.plantuml.com/plantuml/uml/dLTTZjis47xNAVXaI8Q37C2BHT1D0nJ8Rj9qqQ9FnLYQLTb8f4jIBen5UvsUe2V8nIfJey5GLBP6dqnzyyq_VyPlV00NXhuhwWwyLzyCvmVxXtekb7flVuDtskiQLCTBmZ-OJXjK7Iz7_8Hri4xTt7KQJS3jhQhZIieU7HWFDTXH6kBwozzV_a4_KhG9oWTRV_xmMNxTQpD-5eeYAwjn-PTOdwnk53GDUItfLst8ENCSzlQ4Cyq7fqshZEsn8dSjXXyc_sMbQcjy408AXILar2Fh3CRhrc0Z4wcO9qoaH4Ahui-2Mi0rYbrGgeVZpKTdco7OxUwYTAj-7y04tK23-qXv2m5L0m7Y9rMRbMxLSLhvITpOuT2XEa5dtQCDq4tmwzVe0mJjWwx1bqVhL8DFscXNHVdSLsehkVu8BVHeHZSgwAFbptqHnPnCMUrJW3krhNTJ0flc6iukJ-zKYJAq62w_SwUYX9f04dQMYCYLS4a4phjbKcASjo05LCw1gMFrNuJOJz5ELk0Dkz1Hs-CLd7Mxl9k_ProehDQBsrdIIgObe5PI4qjFJgDfbFN18VGRPO_e8Du5DweaL6tiRj8HctyJHZTyAEw7BkW3cDe-5vI8moTqQ6eDqmMX18bscqIoNRzRM5diXqyiA3CUrrBIqhpfWXaPtvadhed8w0vS07ldiD5XIafrrhJHhXdwISpxEWPE9pvYKftJbM2QyMx5-8uDapfHObuFCslj84bnRdTHo1yfy3998psoJBgsYBGh3Z_1ETQE0dZ4Bfw8ZhR4nA3oq4TQ5b9Cc_eWBAtcdpBOnbMTZpbF3K-UWZE2s-TmRqtuTGLluBpdzs44w6c8TF_B2EuBhZ0LO5fdJdSh3dUPiqLNx-4uMprOsodjOmiNs7iSQLo1FDfsD1G3lfUyBDUHzZE2Msi5IUPSgboRdQogauWJ_ug1jt1ULOy2MQ6y_rVVXepoRSWl5MyUCPKz5oyzzHTXyVMtHss8MArPYVSv6PeJu1340FXo24AOptsrHL-y52379sxCWArrUifSJ70ieAH52nwac5FX_as4T1faVnJ9qXl1XH9JQkn82l5SdCnRCMKUAbapZomLBnnLYHLsbbj9nOlOggnMd5nkAHMl5uocesN1nFryPys87uRn4zURTLsFagjQ6itLSyfAB7aIdx3LFa2Jj1zxq5qUzxSNUCKp2QIoSFJEEeCrDjPb1Vk_PM7RF8mzPnC_FGlCA9VJN3ufvG-wTSnYCG4j4HRNfNPXWEwbnv7-UcvVlHANt1AbKqMe7L4-tHAa9Wf8bBjWbIYOppERnmZpbLLmPSOWfXaYXUJKjMJp_5cmlMZzShCl85Oif451fwHYBPQxj7Y3fXdwxby0

Codigo:

@startuml
class BuyNow {
  LojaFisica lojaFisica
  LojaOnline lojaOnline
  vector <Cliente*> cliente
  vector <Transacao*> transações
  int stockOk
  int stockMin
  
  BuyNow()
  ~BuyNow()
  void addCliente(Cliente &cliente)
  void removeCliente(string nome)
  int getStockOk() const
  int getStockMin() const
  void setStockOk(unsigned int stockOk)
  void setStockMin(unsigned int stockMin)
}

class Transacao {
    map<Produto*, int> quantidade;
    Date data;
    vector<Produto*> produtos;
    double valorTotal;
    //estatisticas(por definir)
    Cliente* cliente;
    Pagamento* tipoPagamento;

    Transacao();
    Transacao(Cliente *c, Date &d);
    Transacao(Cliente *c, Date &d, vector<Produto*> v);
    Date getDate() const;
    void setDate(Date &d);
    void setCliente(Cliente *c);
    Cliente* getCliente() const;
    void addProduto(Produto* p);
    void addProduto(Produto* p, int quantidade);
    void removeProduto(Produto *p);
    void removeProduto(Produto *p, int quantidade);
    int getQuantidade(Produto *p) const;
    void setPagamento(Pagamento* p);
    Pagamento* getPagamento() const;
    friend ostream& operator << (ostream &o, const Transacao &t);
}

class Multibanco{
   int referencia
  
    Multibanco();
    Multibanco(double valorTotal, int referencia);
    void setReferencia(int referencia);
    int getReferencia() const;
    string getInfo() const;
}

class CartaoCredito{
    long int numCartao;
    Date validade;

    CartaoCredito();
    CartaoCredito(double valor, long int numCartao, Date val);
    long int getNumCartao() const;
    void setNumCartao(long int numCartao);
    void setValidade(Date validade);
    Date getValidade() const;
    string getInfo() const;
}
class MbWay{
   int numTelemovel
  
    MbWay();
    MbWay(double valor, int num);
    int getNumTelemovel() const;
    void setNumTelemovel(int num);
    string getInfo() const;
}

class Date{
    unsigned int year;
    unsigned int month;
    unsigned int day;
    map<int, int> months_map;

    Date();
    Date(unsigned int year, unsigned int month, unsigned int day);
    void setMap();
    bool isValid();
    bool isLeap() const;
    map<int, int> getMonthsMap() const;
    unsigned int getYear() const;
    void setYear(int year);
    unsigned int getMonth() const;
    void setMonth(int month);
    unsigned int getDay() const;
    void setDay(int day);
    string getInfo() const;
    friend ostream& operator << (ostream& o, const Date &d);
}

class LojaFisica{
   vector<Produto*> produtos
   
   void addProduto(Produto &produto)
   vector<Produto*> getProdutos() const
}

class LojaOnline{
   vector<Produto*> produtos
   vector<Transacao*> transacoes

   void addProduto(Produto produto)
}

class Categoria{
   string nomeCategoria
   
   string getNomeCategoria() const
   void setNome(string nome)
}

class Produto{
   string nomeProduto
   int stockFisico
   int stockOnline
   double valor

   int getStockFisico() const
   void setStockFisico(int stockFisico)
   int getStockOnline() const
   void setStockOnline(int stockOnline) 
   string getNomeProduto() const
   void setNomeProduto(string nome)
}

class Cliente{
   string nome
   int numContribuinte
   
   string getNome() const
   void setNome(string nome)
   int getNumContribuinte() const
   void setNumContribuinte(int numContribuinte)
}

class ClienteRegistado{
   string email
   
   string getEmail() const
   void setEmail(string email)
}

class Fornecedor{
   string nome

   string getNome() const
   void setNome(string nome)
}

class Pagamento{
    double valor;

    Pagamento();
    Pagamento(double valorTotal);
    void setValor(double val);
    double getValor() const;
    virtual string getInfo() const;
}

BuyNow *-- LojaFisica
BuyNow *-- LojaOnline
BuyNow o-- Categoria
BuyNow o-- Cliente
BuyNow o-- Fornecedor
Categoria o-- Produto
LojaOnline o-- Transacao
Pagamento*-- MbWay
Pagamento*-- CartaoCredito
Pagamento*-- Multibanco
Transacao o-- Date
Transacao o-- Pagamento
CartaoCredito o-- Date
Cliente *-- ClienteRegistado
@enduml
   void setReferencia(int referencia)
   int getReferencia() const
}

class CartaoCredito{
   long int numCartao
   Date validade

   long int getNumCartao() const
   void setNumCartao(long int numCartao)
   void setValidade(date validade)
   Date getValidade() const
}
class MbWay{
   int numTelemovel
  
   int getNumTelemovel() const
   void setNumTelemovel(int numTelemovel)
}

class Date{
   unsigned int year
   unsigned int month
   unsigned int day

   Date()
   Date(unsigned int year, unsigned int month, unsigned int day)
   unsigned int getYear() const
   unsigned int getMonth() const
   unsigned int getDay() const
}

class LojaFisica{
   vector<Produto*> produtos
   
   void addProduto(Produto &produto)
   vector<Produto*> getProdutos() const
}

class LojaOnline{
   vector<Produto*> produtos
   vector<Transacao*> transacoes

   void addProduto(Produto produto)
}

class Categoria{
   string nomeCategoria
   
   string getNomeCategoria() const
   void setNome(string nome)
}

class Produto{
   string nomeProduto
   int stockFisico
   int stockOnline
   double valor

   int getStockFisico() const
   void setStockFisico(int stockFisico)
   int getStockOnline() const
   void setStockOnline(int stockOnline) 
   string getNomeProduto() const
   void setNomeProduto(string nome)
}

class Cliente{
   string nome
   int numContribuinte
   
   string getNome() const
   void setNome(string nome)
   int getNumContribuinte() const
   void setNumContribuinte(int numContribuinte)
}

class ClienteRegistado{
   string email
   
   string getEmail() const
   void setEmail(string email)
}

class Fornecedor{
   string nome

   string getNome() const
   void setNome(string nome)
}

BuyNow *-- LojaFisica
BuyNow *-- LojaOnline
BuyNow o-- Categoria
BuyNow o-- Cliente
BuyNow o-- Fornecedor
Categoria o-- Produto
LojaOnline o-- Transacao
Transacao *-- MbWay
Transacao *-- CartaoCredito
Transacao *-- Multibanco
Transacao o-- Date
CartaoCredito o-- Date
Cliente *-- ClienteRegistado
@enduml